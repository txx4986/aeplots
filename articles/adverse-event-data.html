<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Adverse Event Data • aeplots</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Adverse Event Data">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">aeplots</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/adverse-event-data.html">Adverse Event Data</a></li>
    <li><a class="dropdown-item" href="../articles/laboratory-data.html">Laboratory Data</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Adverse Event Data</h1>
            
      

      <div class="d-none name"><code>adverse-event-data.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The vignette documents how to use the functions in
<code>aeplots</code> to create tables and plots for analysing adverse
event data in clinical trials.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://txx4986.github.io/aeplots/">aeplots</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="input-data">Input data<a class="anchor" aria-label="anchor" href="#input-data"></a>
</h2>
<div class="section level3">
<h3 id="treatment-arms">2 treatment arms<a class="anchor" aria-label="anchor" href="#treatment-arms"></a>
</h3>
<p>To generate tables and plots to summarise adverse events in clinical
trials, the R package requires the input dataset in data frame format. A
sample dataset with two treatment arms is shown below:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">df2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">df2</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 10 × 10</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Rowwise: </span></span></span>
<span><span class="co">#&gt;       id arm     ae_pt        aebodsys severity date_rand  date_ae    last_visit</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;ord&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>  <span style="text-decoration: underline;">2</span>001 Placebo Cold         Respira… Moderate 2015-10-28 2016-04-24 2016-08-31</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>  <span style="text-decoration: underline;">2</span>001 Placebo Anemia       Blood a… Severe   2015-10-28 2015-11-11 2016-08-31</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>  <span style="text-decoration: underline;">2</span>001 Placebo Anemia       Blood a… Moderate 2015-10-28 2016-05-10 2016-08-31</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>  <span style="text-decoration: underline;">2</span>001 Placebo Leukocytosis Blood a… Severe   2015-10-28 2016-08-29 2016-08-31</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>  <span style="text-decoration: underline;">2</span>001 Placebo Nausea       Gastroi… Severe   2015-10-28 2016-02-23 2016-08-31</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>  <span style="text-decoration: underline;">2</span>001 Placebo Cold         Respira… Mild     2015-10-28 2016-08-22 2016-08-31</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>  <span style="text-decoration: underline;">2</span>001 Placebo Nausea       Gastroi… Moderate 2015-10-28 2016-06-13 2016-08-31</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>  <span style="text-decoration: underline;">2</span>001 Placebo Proteinuria  Renal a… Severe   2015-10-28 2016-06-28 2016-08-31</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>  <span style="text-decoration: underline;">2</span>001 Placebo Anxiety      Psychia… Moderate 2015-10-28 2015-11-11 2016-08-31</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>  <span style="text-decoration: underline;">2</span>001 Placebo Vomiting     Gastroi… Moderate 2015-10-28 2016-03-29 2016-08-31</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 2 more variables: variable1 &lt;dbl&gt;, variable2 &lt;dbl&gt;</span></span></span></code></pre></div>
<p>Note that for each participant who did not experience any adverse
events, a row should be included in the input dataset stating his/her
<code>id</code>, <code>arm</code>, <code>date_rand</code>,
<code>last_visit</code> and <code>variables</code> to be included in the
model. <code>adverse_event</code>, <code>body_system_class</code> and
<code>severity</code> column should be specified as <code>NA</code>. For
example:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="va">df2</span> <span class="op">%&gt;%</span> </span>
<span>       <span class="fu">add_row</span><span class="op">(</span>id<span class="op">=</span><span class="fl">2110</span>, arm<span class="op">=</span><span class="st">"Intervention"</span>, ae_pt<span class="op">=</span><span class="cn">NA</span>, aebodsys<span class="op">=</span><span class="cn">NA</span>, severity<span class="op">=</span><span class="cn">NA</span>, date_rand<span class="op">=</span><span class="fu">ymd</span><span class="op">(</span><span class="st">"2015-05-22"</span><span class="op">)</span>,</span>
<span>               last_visit<span class="op">=</span><span class="fu">ymd</span><span class="op">(</span><span class="st">"2016-04-22"</span><span class="op">)</span>, variable1<span class="op">=</span><span class="fl">2</span>, variable2<span class="op">=</span><span class="fl">1500</span><span class="op">)</span>, <span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 10</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Rowwise: </span></span></span>
<span><span class="co">#&gt;      id arm   ae_pt aebodsys severity date_rand  date_ae last_visit variable1</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;ord&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>  <span style="text-decoration: underline;">2</span>110 Inte… <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>       <span style="color: #BB0000;">NA</span>       2015-05-22 <span style="color: #BB0000;">NA</span>      2016-04-22         2</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: variable2 &lt;dbl&gt;</span></span></span></code></pre></div>
<p>We would need to convert the body_system_class and severity columns
to factors.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df2</span><span class="op">$</span><span class="va">aebodsys</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">df2</span><span class="op">$</span><span class="va">aebodsys</span><span class="op">)</span></span>
<span><span class="co"># for severity to be presented in ascending order, we order the levels</span></span>
<span><span class="va">df2</span><span class="op">$</span><span class="va">severity</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">ordered</a></span><span class="op">(</span><span class="va">df2</span><span class="op">$</span><span class="va">severity</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Mild"</span>, <span class="st">"Moderate"</span>, <span class="st">"Severe"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Note that for all the functions below, you would need to specify the
column names corresponding to each variable needed unless you rename the
column names of your dataset to the default column names as specified in
the sample dataset of the documentation. Do refer to the detailed
documentation of each function by typing:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/help.html" class="external-link">help</a></span><span class="op">(</span><span class="va">aetable</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="more-than-2-treatment-arms">More than 2 treatment arms<a class="anchor" aria-label="anchor" href="#more-than-2-treatment-arms"></a>
</h3>
<p>The functions <code>aetable</code>, <code>aeseverity</code>,
<code>aestacked</code> and <code>aebar</code> can take up to 4 treatment
arms. A sample dataset with 3 treatment arms:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">df3</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">df3</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 10 × 8</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Rowwise: </span></span></span>
<span><span class="co">#&gt;       id arm            ae_pt aebodsys severity date_rand  date_ae    last_visit</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;ord&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>  <span style="text-decoration: underline;">2</span>001 Intervention 1 Cold  Respira… Moderate 2015-10-28 2016-08-03 2016-08-31</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>  <span style="text-decoration: underline;">2</span>001 Intervention 1 Anem… Blood a… Severe   2015-10-28 2016-05-24 2016-08-31</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>  <span style="text-decoration: underline;">2</span>001 Intervention 1 Anem… Blood a… Moderate 2015-10-28 2016-03-13 2016-08-31</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>  <span style="text-decoration: underline;">2</span>001 Intervention 1 Leuk… Blood a… Severe   2015-10-28 2016-02-13 2016-08-31</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>  <span style="text-decoration: underline;">2</span>001 Intervention 1 Naus… Gastroi… Severe   2015-10-28 2015-11-05 2016-08-31</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>  <span style="text-decoration: underline;">2</span>001 Intervention 1 Cold  Respira… Mild     2015-10-28 2016-02-19 2016-08-31</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>  <span style="text-decoration: underline;">2</span>001 Intervention 1 Naus… Gastroi… Moderate 2015-10-28 2016-07-15 2016-08-31</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>  <span style="text-decoration: underline;">2</span>001 Intervention 1 Prot… Renal a… Severe   2015-10-28 2015-11-26 2016-08-31</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>  <span style="text-decoration: underline;">2</span>001 Intervention 1 Anxi… Psychia… Moderate 2015-10-28 2016-08-29 2016-08-31</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>  <span style="text-decoration: underline;">2</span>001 Intervention 1 Vomi… Gastroi… Moderate 2015-10-28 2016-01-10 2016-08-31</span></span>
<span><span class="va">df3</span><span class="op">$</span><span class="va">aebodsys</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">df3</span><span class="op">$</span><span class="va">aebodsys</span><span class="op">)</span></span>
<span><span class="va">df3</span><span class="op">$</span><span class="va">severity</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">ordered</a></span><span class="op">(</span><span class="va">df2</span><span class="op">$</span><span class="va">severity</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Mild"</span>, <span class="st">"Moderate"</span>, <span class="st">"Severe"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="aetable-function">
<code>aetable</code> function<a class="anchor" aria-label="anchor" href="#aetable-function"></a>
</h2>
<div class="section level3">
<h3 id="treatment-arms-1">2 treatment arms<a class="anchor" aria-label="anchor" href="#treatment-arms-1"></a>
</h3>
<p><code>aetable</code> plots a table of AE summary by body system class
and arm. It contains the total number of participants at risk per arm
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>N</mi><mn>1</mn></msub><annotation encoding="application/x-tex">N_{1}</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>N</mi><mn>2</mn></msub><annotation encoding="application/x-tex">N_{2}</annotation></semantics></math>),
frequency (N), proportion (%), total number of events (n), incidence
rate (IR), number of adverse events per participant (mean &amp; SD) and
treatment effect estimate with its 95% confidence interval (CI). To
include additional covariates besides arm in the model, specify a vector
of variable names in the <code>variables</code> argument.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aetable.html">aetable</a></span><span class="op">(</span><span class="va">df2</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, control<span class="op">=</span><span class="st">"Placebo"</span>, intervention_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention"</span><span class="op">)</span>,</span>
<span>        treatment_effect_estimate<span class="op">=</span><span class="cn">TRUE</span>, variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"variable1"</span>, <span class="st">"variable2"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="adverse-event-data_files/figure-html/unnamed-chunk-8-1.png" width="768"></p>
<p>We can specify the model used to estimate the treatment effect and
95% CI via the <code>model</code> argument. The available model options
are <code>Poisson (rate)</code>, <code>Poisson (count)</code>,
<code>Negative Binomial (rate)</code>,
<code>Negative Binomial (count)</code>, <code>Binomial (logit)</code>,
<code>Binomial (log)</code> and <code>Binomial (identity)</code>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aetable.html">aetable</a></span><span class="op">(</span><span class="va">df2</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, control<span class="op">=</span><span class="st">"Placebo"</span>, intervention_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention"</span><span class="op">)</span>,</span>
<span>        treatment_effect_estimate<span class="op">=</span><span class="cn">TRUE</span>, model<span class="op">=</span><span class="st">"Binomial (logit)"</span>, variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"variable1"</span>, <span class="st">"variable2"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="adverse-event-data_files/figure-html/unnamed-chunk-9-1.png" width="768"></p>
<p>We can specify IR per number of person via the
<code>IR_per_person</code> argument. The default is IR per 100
person.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aetable.html">aetable</a></span><span class="op">(</span><span class="va">df2</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, control<span class="op">=</span><span class="st">"Placebo"</span>, intervention_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention"</span><span class="op">)</span>,</span>
<span>        IR_per_person<span class="op">=</span><span class="fl">1000</span><span class="op">)</span></span></code></pre></div>
<p><img src="adverse-event-data_files/figure-html/unnamed-chunk-10-1.png" width="768"></p>
<p>We can specify the number of decimal places for the proportions, IR,
mean and SD columns as well as the number of significant figures for the
treatment effect estimate and 95% CI.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aetable.html">aetable</a></span><span class="op">(</span><span class="va">df2</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, control<span class="op">=</span><span class="st">"Placebo"</span>, intervention_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention"</span><span class="op">)</span>,</span>
<span>        treatment_effect_estimate<span class="op">=</span><span class="cn">TRUE</span>, variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"variable1"</span>, <span class="st">"variable2"</span><span class="op">)</span>, proportions_dp<span class="op">=</span><span class="fl">2</span>, IR_dp<span class="op">=</span><span class="fl">2</span>,</span>
<span>        mean_dp<span class="op">=</span><span class="fl">2</span>, SD_dp<span class="op">=</span><span class="fl">2</span>, estimate_sf<span class="op">=</span><span class="fl">4</span>, CI_sf<span class="op">=</span><span class="fl">4</span><span class="op">)</span></span></code></pre></div>
<p><img src="adverse-event-data_files/figure-html/unnamed-chunk-11-1.png" width="768"></p>
<p>We can choose to drop the treatment effect estimate and 95% CI by
specifying <code>treatment_effect_estimate=FALSE</code>.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aetable.html">aetable</a></span><span class="op">(</span><span class="va">df2</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, control<span class="op">=</span><span class="st">"Placebo"</span>, intervention_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention"</span><span class="op">)</span>,</span>
<span>        treatment_effect_estimate<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="adverse-event-data_files/figure-html/unnamed-chunk-12-1.png" width="768"></p>
<p>We can also choose to drop the mean column by specifying
<code>mean=FALSE</code>.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aetable.html">aetable</a></span><span class="op">(</span><span class="va">df2</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, control<span class="op">=</span><span class="st">"Placebo"</span>, intervention_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention"</span><span class="op">)</span>,</span>
<span>        treatment_effect_estimate<span class="op">=</span><span class="cn">FALSE</span>, mean<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="adverse-event-data_files/figure-html/unnamed-chunk-13-1.png" width="768"></p>
</div>
<div class="section level3">
<h3 id="more-than-2-treatment-arms-1">More than 2 treatment arms<a class="anchor" aria-label="anchor" href="#more-than-2-treatment-arms-1"></a>
</h3>
<p><code>aetable</code> does not include the treatment effect estimates
and their 95% CIs for datasets with more than 2 treatment arms. To
change the labels of control and interventions in the table, specify the
label for control in the argument <code>control_name</code> and specify
the intervention labels in the argument <code>intervention_names</code>.
Note that intervention_names should be specified using the same order as
the interventions specified in intervention_levels.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aetable.html">aetable</a></span><span class="op">(</span><span class="va">df3</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, control<span class="op">=</span><span class="st">"Placebo"</span>, control_name<span class="op">=</span><span class="st">"No Drug"</span>,</span>
<span>        intervention_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention 1"</span>, <span class="st">"Intervention 2"</span><span class="op">)</span>, intervention_names<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Drug A"</span>, <span class="st">"Drug B"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="adverse-event-data_files/figure-html/unnamed-chunk-14-1.png" width="768"></p>
</div>
</div>
<div class="section level2">
<h2 id="aeseverity-function">
<code>aeseverity</code> function<a class="anchor" aria-label="anchor" href="#aeseverity-function"></a>
</h2>
<div class="section level3">
<h3 id="treatment-arms-2">2 treatment arms<a class="anchor" aria-label="anchor" href="#treatment-arms-2"></a>
</h3>
<p><code>aeseverity</code> plots a table of frequencies and proportions
of events by severity categories. We specify the number of decimal
places for proportions via the argument <code>proportions_dp</code>.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aeseverity.html">aeseverity</a></span><span class="op">(</span><span class="va">df2</span>, arm_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention"</span>, <span class="st">"Placebo"</span><span class="op">)</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, proportions_dp<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p><img src="adverse-event-data_files/figure-html/unnamed-chunk-15-1.png" width="768"></p>
<p>We can choose to drop the number of events column by specifying
<code>n_events=FALSE</code>.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aeseverity.html">aeseverity</a></span><span class="op">(</span><span class="va">df2</span>, arm_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention"</span>, <span class="st">"Placebo"</span><span class="op">)</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, n_events<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="adverse-event-data_files/figure-html/unnamed-chunk-16-1.png" width="768"></p>
</div>
<div class="section level3">
<h3 id="more-than-2-treatment-arms-2">More than 2 treatment arms<a class="anchor" aria-label="anchor" href="#more-than-2-treatment-arms-2"></a>
</h3>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aeseverity.html">aeseverity</a></span><span class="op">(</span><span class="va">df3</span>, arm_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention 1"</span>, <span class="st">"Intervention 2"</span>, <span class="st">"Placebo"</span><span class="op">)</span>, </span>
<span>           arm_names<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Drug A"</span>, <span class="st">"Drug B"</span>, <span class="st">"No Drug"</span><span class="op">)</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, n_events<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="adverse-event-data_files/figure-html/unnamed-chunk-17-1.png" width="768"></p>
</div>
</div>
<div class="section level2">
<h2 id="aedot-function">
<code>aedot</code> function<a class="anchor" aria-label="anchor" href="#aedot-function"></a>
</h2>
<p><code>aedot</code> plots a dot plot proportions alongside treatment
effect estimates with accompanying 95% confidence interval to visualise
AE and harm profiles in two-arm randomised controlled trials.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aedot.html">aedot</a></span><span class="op">(</span><span class="va">df2</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, control<span class="op">=</span><span class="st">"Placebo"</span>, intervention<span class="op">=</span><span class="st">"Intervention"</span><span class="op">)</span></span></code></pre></div>
<p><img src="adverse-event-data_files/figure-html/unnamed-chunk-18-1.png" width="768"></p>
<p>Similar to <code>aetable</code>, we can specify the model used to
estimate the treatment effect and 95% CI via the <code>model</code>
argument. The available model options are <code>unadjusted (RR)</code>,
<code>unadjusted (RD)</code>, <code>Poisson (rate)</code>,
<code>Poisson (count)</code>, <code>Negative Binomial (rate)</code>,
<code>Negative Binomial (count)</code>, <code>Binomial (logit)</code>,
<code>Binomial (log)</code> and <code>Binomial (identity)</code>. The
default model is <code>unadjusted (RR)</code>.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aedot.html">aedot</a></span><span class="op">(</span><span class="va">df2</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, control<span class="op">=</span><span class="st">"Placebo"</span>, intervention<span class="op">=</span><span class="st">"Intervention"</span>, model<span class="op">=</span><span class="st">"unadjusted (RD)"</span><span class="op">)</span></span></code></pre></div>
<p><img src="adverse-event-data_files/figure-html/unnamed-chunk-19-1.png" width="768"></p>
<p>We can change the colours of the dots on the percentage of
participants plot through the <code>dot_colours</code> argument.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aedot.html">aedot</a></span><span class="op">(</span><span class="va">df2</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, control<span class="op">=</span><span class="st">"Placebo"</span>, intervention<span class="op">=</span><span class="st">"Intervention"</span>, </span>
<span>      dot_colours<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#F4B800"</span>, <span class="st">"#97D800"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="adverse-event-data_files/figure-html/unnamed-chunk-20-1.png" width="768"></p>
</div>
<div class="section level2">
<h2 id="aestacked-function">
<code>aestacked</code> function<a class="anchor" aria-label="anchor" href="#aestacked-function"></a>
</h2>
<div class="section level3">
<h3 id="treatment-arms-3">2 treatment arms<a class="anchor" aria-label="anchor" href="#treatment-arms-3"></a>
</h3>
<p><code>aestacked</code> plots a stacked bar chart of proportions for
each body system class by arm and maximum severity. If severity is not
ordered, it is required to specify the levels of severity in ascending
order in the argument <code>severity_levels</code>.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aestacked.html">aestacked</a></span><span class="op">(</span><span class="va">df2</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, arm_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention"</span>,<span class="st">"Placebo"</span><span class="op">)</span>, </span>
<span>          severity_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Mild"</span>, <span class="st">"Moderate"</span>, <span class="st">"Severe"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="adverse-event-data_files/figure-html/unnamed-chunk-21-1.png" width="768"></p>
<p>We can change the colour for each severity by specifying a vector of
colour codes corresponding to each severity level in the
<code>severity_colours</code> argument.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aestacked.html">aestacked</a></span><span class="op">(</span><span class="va">df2</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, arm_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention"</span>,<span class="st">"Placebo"</span><span class="op">)</span>, </span>
<span>          severity_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Mild"</span>, <span class="st">"Moderate"</span>, <span class="st">"Severe"</span><span class="op">)</span>, severity_colours<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#D0EE11"</span>, <span class="st">"#48B5C4"</span>, <span class="st">"#115F9A"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="adverse-event-data_files/figure-html/unnamed-chunk-22-1.png" width="768"></p>
</div>
<div class="section level3">
<h3 id="more-than-2-treatment-arms-3">More than 2 treatment arms<a class="anchor" aria-label="anchor" href="#more-than-2-treatment-arms-3"></a>
</h3>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aestacked.html">aestacked</a></span><span class="op">(</span><span class="va">df3</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, arm_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention 1"</span>,<span class="st">"Intervention 2"</span>, <span class="st">"Placebo"</span><span class="op">)</span>,</span>
<span>          arm_names<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Drug A"</span>,<span class="st">"Drug B"</span>, <span class="st">"No Drug"</span><span class="op">)</span>, severity_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Mild"</span>, <span class="st">"Moderate"</span>, <span class="st">"Severe"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="adverse-event-data_files/figure-html/unnamed-chunk-23-1.png" width="768"></p>
</div>
</div>
<div class="section level2">
<h2 id="aebar-function">
<code>aebar</code> function<a class="anchor" aria-label="anchor" href="#aebar-function"></a>
</h2>
<div class="section level3">
<h3 id="treatment-arms-4">2 treatment arms<a class="anchor" aria-label="anchor" href="#treatment-arms-4"></a>
</h3>
<p><code>aebar</code> plots a bar chart for number of events reported
per participant.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aebar.html">aebar</a></span><span class="op">(</span><span class="va">df2</span>, arm_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention"</span>,<span class="st">"Placebo"</span><span class="op">)</span>, adverse_event<span class="op">=</span><span class="st">"ae_pt"</span>, facets<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="adverse-event-data_files/figure-html/unnamed-chunk-24-1.png" width="768"></p>
<p>We can change the colour representing each treatment arm by
specifying a vector of colour codes in the <code>arm_colours</code>
argument according to the order of arm levels specified in the
arm_levels argument.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aebar.html">aebar</a></span><span class="op">(</span><span class="va">df2</span>, arm_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention"</span>,<span class="st">"Placebo"</span><span class="op">)</span>, adverse_event<span class="op">=</span><span class="st">"ae_pt"</span>, arm_colours<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#FFB55A"</span>, <span class="st">"#B2E061"</span><span class="op">)</span>, facets<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="adverse-event-data_files/figure-html/unnamed-chunk-25-1.png" width="768"></p>
</div>
<div class="section level3">
<h3 id="more-than-2-treatment-arms-4">More than 2 treatment arms<a class="anchor" aria-label="anchor" href="#more-than-2-treatment-arms-4"></a>
</h3>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aebar.html">aebar</a></span><span class="op">(</span><span class="va">df3</span>, arm_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention 1"</span>,<span class="st">"Intervention 2"</span>, <span class="st">"Placebo"</span><span class="op">)</span>, arm_names<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Drug A"</span>,<span class="st">"Drug B"</span>, <span class="st">"No Drug"</span><span class="op">)</span>,</span>
<span>      adverse_event<span class="op">=</span><span class="st">"ae_pt"</span>, facets<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="adverse-event-data_files/figure-html/unnamed-chunk-26-1.png" width="768"></p>
<p>We can plot a bar chart for each treatment arm in separate facets by
specifying <code>facets=TRUE</code>.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aebar.html">aebar</a></span><span class="op">(</span><span class="va">df3</span>, arm_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention 1"</span>,<span class="st">"Intervention 2"</span>, <span class="st">"Placebo"</span><span class="op">)</span>, arm_names<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Drug A"</span>,<span class="st">"Drug B"</span>, <span class="st">"No Drug"</span><span class="op">)</span>,</span>
<span>      adverse_event<span class="op">=</span><span class="st">"ae_pt"</span>, facets<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="adverse-event-data_files/figure-html/unnamed-chunk-27-1.png" width="768"></p>
</div>
</div>
<div class="section level2">
<h2 id="aevolcano-function">
<code>aevolcano</code> function<a class="anchor" aria-label="anchor" href="#aevolcano-function"></a>
</h2>
<p><code>aevolcano</code> plots a volcano plot of treatment effect
estimate against the p-value on the -log10 scale.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aevolcano.html">aevolcano</a></span><span class="op">(</span><span class="va">df2</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, control<span class="op">=</span><span class="st">"Placebo"</span>, intervention<span class="op">=</span><span class="st">"Intervention"</span><span class="op">)</span></span></code></pre></div>
<p><img src="adverse-event-data_files/figure-html/unnamed-chunk-28-1.png" width="768"></p>
<p>We can specify the model used to estimate the treatment effect via
the <code>model</code> argument. The available model options are
<code>unadjusted (RD)</code>, <code>unadjusted (RR)</code>,
<code>unadjusted (OR)</code>, <code>unadjusted (IRR)</code>,
<code>Poisson (rate)</code>, <code>Poisson (count)</code>,
<code>Negative Binomial (rate)</code>,
<code>Negative Binomial (count)</code>, <code>Binomial (logit)</code>,
<code>Binomial (log)</code> and <code>Binomial (identity)</code>. The
default model is <code>unadjusted (RD)</code>.</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aevolcano.html">aevolcano</a></span><span class="op">(</span><span class="va">df2</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, control<span class="op">=</span><span class="st">"Placebo"</span>, intervention<span class="op">=</span><span class="st">"Intervention"</span>, model<span class="op">=</span><span class="st">"Binomial (logit)"</span>,</span>
<span>          variables<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"variable1"</span>, <span class="st">"variable2"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="adverse-event-data_files/figure-html/unnamed-chunk-29-1.png" width="768"></p>
<p>Labels are added to events with p-values less than 0.1 on default. We
can change the p-value cutoff for which labels are added to events
through the <code>p_value_cutoff</code> argument.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aevolcano.html">aevolcano</a></span><span class="op">(</span><span class="va">df2</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, control<span class="op">=</span><span class="st">"Placebo"</span>, intervention<span class="op">=</span><span class="st">"Intervention"</span>, p_value_cutoff<span class="op">=</span><span class="fl">0.05</span><span class="op">)</span></span></code></pre></div>
<p><img src="adverse-event-data_files/figure-html/unnamed-chunk-30-1.png" width="768"></p>
<p>The default colours for the bubbles are blue and red, with blue
indicating greater risk in the control arm and red indicating greater
risk in the intervention arm. We can change the colour of bubbles
through the <code>bubble_colours</code> argument, specifying the colour
indicating greater risk in the control arm first, followed by the colour
indicating greater risk in the intervention arm.</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aevolcano.html">aevolcano</a></span><span class="op">(</span><span class="va">df2</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, control<span class="op">=</span><span class="st">"Placebo"</span>, intervention<span class="op">=</span><span class="st">"Intervention"</span>, bubble_colours <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#B2E061"</span>, <span class="st">"#FFB55A"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="adverse-event-data_files/figure-html/unnamed-chunk-31-1.png" width="768"></p>
</div>
<div class="section level2">
<h2 id="aemcf-function">
<code>aemcf</code> function<a class="anchor" aria-label="anchor" href="#aemcf-function"></a>
</h2>
<div class="section level3">
<h3 id="treatment-arms-5">2 treatment arms<a class="anchor" aria-label="anchor" href="#treatment-arms-5"></a>
</h3>
<p><code>aemcf</code> plots the mean cumulative function (MCF) with
accompanying 95% confidence interval for harm outcomes by treatment arm
with embedded table of number of participants at risk.</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aemcf.html">aemcf</a></span><span class="op">(</span><span class="va">df2</span>, arm_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention"</span>, <span class="st">"Placebo"</span><span class="op">)</span>, adverse_event<span class="op">=</span><span class="st">"ae_pt"</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span><span class="op">)</span></span></code></pre></div>
<p><img src="adverse-event-data_files/figure-html/unnamed-chunk-32-1.png" width="768"></p>
<p>We can plot the MCF for adverse events of specific organ systems or
specific adverse events by specifying the conditions through the
<code>subset</code> argument.</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># this plots the MCF for adverse events of a specific body system class (i.e. Gastrointestinal)</span></span>
<span><span class="fu"><a href="../reference/aemcf.html">aemcf</a></span><span class="op">(</span><span class="va">df2</span>, arm_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention"</span>, <span class="st">"Placebo"</span><span class="op">)</span>, subset<span class="op">=</span> <span class="va">body_system_class</span><span class="op">==</span><span class="st">"Gastrointestinal"</span>, adverse_event<span class="op">=</span><span class="st">"ae_pt"</span>,</span>
<span>      body_system_class<span class="op">=</span><span class="st">"aebodsys"</span><span class="op">)</span></span></code></pre></div>
<p><img src="adverse-event-data_files/figure-html/unnamed-chunk-33-1.png" width="768"></p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># this plots the MCF for a specific adverse event (i.e. Anemia)</span></span>
<span><span class="fu"><a href="../reference/aemcf.html">aemcf</a></span><span class="op">(</span><span class="va">df2</span>, arm_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention"</span>, <span class="st">"Placebo"</span><span class="op">)</span>, subset<span class="op">=</span> <span class="va">adverse_event</span><span class="op">==</span><span class="st">"Anemia"</span>, adverse_event<span class="op">=</span><span class="st">"ae_pt"</span>,</span>
<span>      body_system_class<span class="op">=</span><span class="st">"aebodsys"</span><span class="op">)</span></span></code></pre></div>
<p><img src="adverse-event-data_files/figure-html/unnamed-chunk-33-2.png" width="768"></p>
<p>We can choose to not plot the 95% confidence intervals by specifying
<code>conf.int=FALSE</code>.</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aemcf.html">aemcf</a></span><span class="op">(</span><span class="va">df2</span>, arm_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention"</span>, <span class="st">"Placebo"</span><span class="op">)</span>, adverse_event<span class="op">=</span><span class="st">"ae_pt"</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, conf.int<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="adverse-event-data_files/figure-html/unnamed-chunk-34-1.png" width="768"></p>
<p>We can choose to drop the risk table by specifying
<code>risk_table=FALSE</code>.</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aemcf.html">aemcf</a></span><span class="op">(</span><span class="va">df2</span>, arm_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention"</span>, <span class="st">"Placebo"</span><span class="op">)</span>, adverse_event<span class="op">=</span><span class="st">"ae_pt"</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, risk_table<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="adverse-event-data_files/figure-html/unnamed-chunk-35-1.png" width="768"></p>
<p>We can change the colour representing each treatment arm by
specifying a vector of colour codes in the <code>arm_colours</code>
argument according to the order of arm levels specified in the
arm_levels argument.</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aemcf.html">aemcf</a></span><span class="op">(</span><span class="va">df2</span>, arm_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention"</span>, <span class="st">"Placebo"</span><span class="op">)</span>, adverse_event<span class="op">=</span><span class="st">"ae_pt"</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, </span>
<span>      arm_colours<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#C77CFF"</span>, <span class="st">"#7CAE00"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="adverse-event-data_files/figure-html/unnamed-chunk-36-1.png" width="768"></p>
</div>
<div class="section level3">
<h3 id="more-than-2-treatment-arms-5">More than 2 treatment arms<a class="anchor" aria-label="anchor" href="#more-than-2-treatment-arms-5"></a>
</h3>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aemcf.html">aemcf</a></span><span class="op">(</span><span class="va">df3</span>, arm_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention 1"</span>, <span class="st">"Intervention 2"</span>, <span class="st">"Placebo"</span><span class="op">)</span>, </span>
<span>      subset<span class="op">=</span> <span class="va">body_system_class</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Blood and lymphatic"</span>, <span class="st">"Respiratory"</span><span class="op">)</span>, adverse_event<span class="op">=</span><span class="st">"ae_pt"</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span><span class="op">)</span></span></code></pre></div>
<p><img src="adverse-event-data_files/figure-html/unnamed-chunk-37-1.png" width="768"></p>
</div>
</div>
<div class="section level2">
<h2 id="saving-tables-and-plots">Saving tables and plots<a class="anchor" aria-label="anchor" href="#saving-tables-and-plots"></a>
</h2>
<div class="section level3">
<h3 id="docx">Docx<a class="anchor" aria-label="anchor" href="#docx"></a>
</h3>
<p>We can save tables as docx by specifying the filepath in the
<code>save_docx_path</code> argument.</p>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aetable.html">aetable</a></span><span class="op">(</span><span class="va">df2</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, control<span class="op">=</span><span class="st">"Placebo"</span>, intervention_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention"</span><span class="op">)</span>,</span>
<span>        treatment_effect_estimate<span class="op">=</span><span class="cn">TRUE</span>, variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"variable1"</span>, <span class="st">"variable2"</span><span class="op">)</span>, save_docx_path<span class="op">=</span><span class="st">"aetable.docx"</span><span class="op">)</span></span></code></pre></div>
<p><img src="adverse-event-data_files/figure-html/unnamed-chunk-38-1.png" width="768"></p>
</div>
<div class="section level3">
<h3 id="image">Image<a class="anchor" aria-label="anchor" href="#image"></a>
</h3>
<p>We can save tables and plots as images by specifying the filepath in
the <code>save_image_path</code> argument.</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aebar.html">aebar</a></span><span class="op">(</span><span class="va">df3</span>, arm_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention 1"</span>,<span class="st">"Intervention 2"</span>, <span class="st">"Placebo"</span><span class="op">)</span>, arm_names<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Drug A"</span>,<span class="st">"Drug B"</span>, <span class="st">"No Drug"</span><span class="op">)</span>,</span>
<span>      adverse_event<span class="op">=</span><span class="st">"ae_pt"</span>, facets<span class="op">=</span><span class="cn">TRUE</span>, save_image_path<span class="op">=</span><span class="st">"aeimage.png"</span><span class="op">)</span></span></code></pre></div>
<p><img src="adverse-event-data_files/figure-html/unnamed-chunk-39-1.png" width="768"></p>
<pre><code><span><span class="co">#&gt; Saving 8 x 6 in image</span></span></code></pre>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Xiao Xuan Tan.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
