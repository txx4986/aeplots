<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="aeplots">
<title>aeplots â€¢ aeplots</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="aeplots">
<meta property="og:description" content="aeplots">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">aeplots</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/aeplots.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/laboratory-data.html">laboratory data</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>aeplots</h1>
            
      
      
      <div class="d-none name"><code>aeplots.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The vignette documents how to use the functions in
<code>aeplots</code> to create tables and plots for analysing adverse
event data in clinical trials.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://txx4986.github.io/aeplots/">aeplots</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="input-data">Input data<a class="anchor" aria-label="anchor" href="#input-data"></a>
</h2>
<div class="section level3">
<h3 id="treatment-arms">2 treatment arms<a class="anchor" aria-label="anchor" href="#treatment-arms"></a>
</h3>
<p>To generate tables and plots to summarise adverse events in clinical
trials, the R package requires the input dataset in data frame format. A
sample dataset with two treatment arms is shown below:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">df2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">df2</span>, <span class="fl">10</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="5%">
<col width="8%">
<col width="13%">
<col width="20%">
<col width="9%">
<col width="11%">
<col width="11%">
<col width="10%">
<col width="10%">
</colgroup>
<thead><tr class="header">
<th align="right">id</th>
<th align="left">arm</th>
<th align="left">ae_pt</th>
<th align="left">aebodsys</th>
<th align="left">severity</th>
<th align="left">date_rand</th>
<th align="left">last_visit</th>
<th align="right">variable1</th>
<th align="right">variable2</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">2001</td>
<td align="left">Placebo</td>
<td align="left">Cold</td>
<td align="left">Respiratory</td>
<td align="left">Moderate</td>
<td align="left">2015-10-28</td>
<td align="left">2016-08-31</td>
<td align="right">2</td>
<td align="right">910.7851</td>
</tr>
<tr class="even">
<td align="right">2001</td>
<td align="left">Placebo</td>
<td align="left">Anemia</td>
<td align="left">Blood and lymphatic</td>
<td align="left">Severe</td>
<td align="left">2015-10-28</td>
<td align="left">2016-08-31</td>
<td align="right">2</td>
<td align="right">910.7851</td>
</tr>
<tr class="odd">
<td align="right">2001</td>
<td align="left">Placebo</td>
<td align="left">Anemia</td>
<td align="left">Blood and lymphatic</td>
<td align="left">Moderate</td>
<td align="left">2015-10-28</td>
<td align="left">2016-08-31</td>
<td align="right">2</td>
<td align="right">910.7851</td>
</tr>
<tr class="even">
<td align="right">2001</td>
<td align="left">Placebo</td>
<td align="left">Leukocytosis</td>
<td align="left">Blood and lymphatic</td>
<td align="left">Severe</td>
<td align="left">2015-10-28</td>
<td align="left">2016-08-31</td>
<td align="right">2</td>
<td align="right">910.7851</td>
</tr>
<tr class="odd">
<td align="right">2001</td>
<td align="left">Placebo</td>
<td align="left">Nausea</td>
<td align="left">Gastrointestinal</td>
<td align="left">Severe</td>
<td align="left">2015-10-28</td>
<td align="left">2016-08-31</td>
<td align="right">2</td>
<td align="right">910.7851</td>
</tr>
<tr class="even">
<td align="right">2001</td>
<td align="left">Placebo</td>
<td align="left">Cold</td>
<td align="left">Respiratory</td>
<td align="left">Mild</td>
<td align="left">2015-10-28</td>
<td align="left">2016-08-31</td>
<td align="right">2</td>
<td align="right">910.7851</td>
</tr>
<tr class="odd">
<td align="right">2001</td>
<td align="left">Placebo</td>
<td align="left">Nausea</td>
<td align="left">Gastrointestinal</td>
<td align="left">Moderate</td>
<td align="left">2015-10-28</td>
<td align="left">2016-08-31</td>
<td align="right">2</td>
<td align="right">910.7851</td>
</tr>
<tr class="even">
<td align="right">2001</td>
<td align="left">Placebo</td>
<td align="left">Proteinuria</td>
<td align="left">Renal and urinary</td>
<td align="left">Severe</td>
<td align="left">2015-10-28</td>
<td align="left">2016-08-31</td>
<td align="right">2</td>
<td align="right">910.7851</td>
</tr>
<tr class="odd">
<td align="right">2001</td>
<td align="left">Placebo</td>
<td align="left">Anxiety</td>
<td align="left">Psychiatric</td>
<td align="left">Moderate</td>
<td align="left">2015-10-28</td>
<td align="left">2016-08-31</td>
<td align="right">2</td>
<td align="right">910.7851</td>
</tr>
<tr class="even">
<td align="right">2001</td>
<td align="left">Placebo</td>
<td align="left">Vomiting</td>
<td align="left">Gastrointestinal</td>
<td align="left">Moderate</td>
<td align="left">2015-10-28</td>
<td align="left">2016-08-31</td>
<td align="right">2</td>
<td align="right">910.7851</td>
</tr>
</tbody>
</table>
<p>We would need to convert the body_system_class and severity columns
to factors.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df2</span><span class="op">$</span><span class="va">aebodsys</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">df2</span><span class="op">$</span><span class="va">aebodsys</span><span class="op">)</span></span>
<span><span class="co"># for severity to be presented in ascending order, we order the levels</span></span>
<span><span class="va">df2</span><span class="op">$</span><span class="va">severity</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">ordered</a></span><span class="op">(</span><span class="va">df2</span><span class="op">$</span><span class="va">severity</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Mild"</span>, <span class="st">"Moderate"</span>, <span class="st">"Severe"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Note that for all the functions below, you would need to specify the
column names corresponding to each variable needed unless you rename the
column names of your dataset to the default column names as specified in
the sample dataset of the documentation. Do refer to the detailed
documentation of each function by typing:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/help.html" class="external-link">help</a></span><span class="op">(</span><span class="va">aetable</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="more-than-2-treatment-arms">More than 2 treatment arms<a class="anchor" aria-label="anchor" href="#more-than-2-treatment-arms"></a>
</h3>
<p>The functions <code>aetable</code>, <code>aeseverity</code>,
<code>aestacked</code> and <code>aebar</code> can take up to 4 treatment
arms. A sample dataset with 3 treatment arms:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">df3</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">df3</span>, <span class="fl">10</span><span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<colgroup>
<col width="5%">
<col width="17%">
<col width="15%">
<col width="23%">
<col width="10%">
<col width="13%">
<col width="13%">
</colgroup>
<thead><tr class="header">
<th align="right">id</th>
<th align="left">arm</th>
<th align="left">ae_pt</th>
<th align="left">aebodsys</th>
<th align="left">severity</th>
<th align="left">date_rand</th>
<th align="left">last_visit</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">2001</td>
<td align="left">Intervention 1</td>
<td align="left">Cold</td>
<td align="left">Respiratory</td>
<td align="left">Moderate</td>
<td align="left">2015-10-28</td>
<td align="left">2016-08-31</td>
</tr>
<tr class="even">
<td align="right">2001</td>
<td align="left">Intervention 1</td>
<td align="left">Anemia</td>
<td align="left">Blood and lymphatic</td>
<td align="left">Severe</td>
<td align="left">2015-10-28</td>
<td align="left">2016-08-31</td>
</tr>
<tr class="odd">
<td align="right">2001</td>
<td align="left">Intervention 1</td>
<td align="left">Anemia</td>
<td align="left">Blood and lymphatic</td>
<td align="left">Moderate</td>
<td align="left">2015-10-28</td>
<td align="left">2016-08-31</td>
</tr>
<tr class="even">
<td align="right">2001</td>
<td align="left">Intervention 1</td>
<td align="left">Leukocytosis</td>
<td align="left">Blood and lymphatic</td>
<td align="left">Severe</td>
<td align="left">2015-10-28</td>
<td align="left">2016-08-31</td>
</tr>
<tr class="odd">
<td align="right">2001</td>
<td align="left">Intervention 1</td>
<td align="left">Nausea</td>
<td align="left">Gastrointestinal</td>
<td align="left">Severe</td>
<td align="left">2015-10-28</td>
<td align="left">2016-08-31</td>
</tr>
<tr class="even">
<td align="right">2001</td>
<td align="left">Intervention 1</td>
<td align="left">Cold</td>
<td align="left">Respiratory</td>
<td align="left">Mild</td>
<td align="left">2015-10-28</td>
<td align="left">2016-08-31</td>
</tr>
<tr class="odd">
<td align="right">2001</td>
<td align="left">Intervention 1</td>
<td align="left">Nausea</td>
<td align="left">Gastrointestinal</td>
<td align="left">Moderate</td>
<td align="left">2015-10-28</td>
<td align="left">2016-08-31</td>
</tr>
<tr class="even">
<td align="right">2001</td>
<td align="left">Intervention 1</td>
<td align="left">Proteinuria</td>
<td align="left">Renal and urinary</td>
<td align="left">Severe</td>
<td align="left">2015-10-28</td>
<td align="left">2016-08-31</td>
</tr>
<tr class="odd">
<td align="right">2001</td>
<td align="left">Intervention 1</td>
<td align="left">Anxiety</td>
<td align="left">Psychiatric</td>
<td align="left">Moderate</td>
<td align="left">2015-10-28</td>
<td align="left">2016-08-31</td>
</tr>
<tr class="even">
<td align="right">2001</td>
<td align="left">Intervention 1</td>
<td align="left">Vomiting</td>
<td align="left">Gastrointestinal</td>
<td align="left">Moderate</td>
<td align="left">2015-10-28</td>
<td align="left">2016-08-31</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df3</span><span class="op">$</span><span class="va">aebodsys</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">df3</span><span class="op">$</span><span class="va">aebodsys</span><span class="op">)</span></span>
<span><span class="va">df3</span><span class="op">$</span><span class="va">severity</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">ordered</a></span><span class="op">(</span><span class="va">df2</span><span class="op">$</span><span class="va">severity</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Mild"</span>, <span class="st">"Moderate"</span>, <span class="st">"Severe"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="aetable-function">
<code>aetable</code> function<a class="anchor" aria-label="anchor" href="#aetable-function"></a>
</h2>
<div class="section level3">
<h3 id="treatment-arms-1">2 treatment arms<a class="anchor" aria-label="anchor" href="#treatment-arms-1"></a>
</h3>
<p><code>aetable</code> plots a table of AE summary by body system class
and arm. It contains the total number of participants at risk per arm
(<span class="math inline">\(N_{1}\)</span>, <span class="math inline">\(N_{2}\)</span>), frequency (N), proportion (%),
total number of events (n), incidence rate (IR), number of adverse
events per participant (mean &amp; SD) and treatment effect estimate
with its 95% confidence interval (CI). To include additional covariates
besides arm in the model, specify a vector of variable names in the
<code>variables</code> argument.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aetable.html">aetable</a></span><span class="op">(</span><span class="va">df2</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, control<span class="op">=</span><span class="st">"Placebo"</span>, intervention_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention"</span><span class="op">)</span>,</span>
<span>        treatment_effect_estimate<span class="op">=</span><span class="cn">TRUE</span>, variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"variable1"</span>, <span class="st">"variable2"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="aeplots_files/figure-html/unnamed-chunk-7-1.png" width="768"></p>
<p>We can specify the model used to estimate the treatment effect and
95% CI via the <code>model</code> argument. The available model options
are <code>Poisson (rate)</code>, <code>Poisson (count)</code>,
<code>Negative Binomial (rate)</code>,
<code>Negative Binomial (count)</code>, <code>Binomial (logit)</code>,
<code>Binomial (log)</code> and <code>Binomial (identity)</code>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aetable.html">aetable</a></span><span class="op">(</span><span class="va">df2</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, control<span class="op">=</span><span class="st">"Placebo"</span>, intervention_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention"</span><span class="op">)</span>,</span>
<span>        treatment_effect_estimate<span class="op">=</span><span class="cn">TRUE</span>, model<span class="op">=</span><span class="st">"Binomial (logit)"</span>, variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"variable1"</span>, <span class="st">"variable2"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="aeplots_files/figure-html/unnamed-chunk-8-1.png" width="768"></p>
<p>We can specify the number of decimal places for the proportions, IR,
mean and SD columns as well as the number of significant figures for the
treatment effect estimate and 95% CI.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aetable.html">aetable</a></span><span class="op">(</span><span class="va">df2</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, control<span class="op">=</span><span class="st">"Placebo"</span>, intervention_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention"</span><span class="op">)</span>,</span>
<span>        treatment_effect_estimate<span class="op">=</span><span class="cn">TRUE</span>, variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"variable1"</span>, <span class="st">"variable2"</span><span class="op">)</span>, proportions_dp<span class="op">=</span><span class="fl">2</span>, IR_dp<span class="op">=</span><span class="fl">2</span>,</span>
<span>        mean_dp<span class="op">=</span><span class="fl">2</span>, SD_dp<span class="op">=</span><span class="fl">2</span>, estimate_sf<span class="op">=</span><span class="fl">4</span>, CI_sf<span class="op">=</span><span class="fl">4</span><span class="op">)</span></span></code></pre></div>
<p><img src="aeplots_files/figure-html/unnamed-chunk-9-1.png" width="768"></p>
<p>We can choose to drop the treatment effect estimate and 95% CI by
specifying <code>treatment_effect_estimate=FALSE</code>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aetable.html">aetable</a></span><span class="op">(</span><span class="va">df2</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, control<span class="op">=</span><span class="st">"Placebo"</span>, intervention_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention"</span><span class="op">)</span>,</span>
<span>        treatment_effect_estimate<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="aeplots_files/figure-html/unnamed-chunk-10-1.png" width="768"></p>
<p>We can also choose to drop the mean column by specifying
<code>mean=FALSE</code>.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aetable.html">aetable</a></span><span class="op">(</span><span class="va">df2</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, control<span class="op">=</span><span class="st">"Placebo"</span>, intervention_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention"</span><span class="op">)</span>,</span>
<span>        treatment_effect_estimate<span class="op">=</span><span class="cn">FALSE</span>, mean<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="aeplots_files/figure-html/unnamed-chunk-11-1.png" width="768"></p>
</div>
<div class="section level3">
<h3 id="more-than-2-treatment-arms-1">More than 2 treatment arms<a class="anchor" aria-label="anchor" href="#more-than-2-treatment-arms-1"></a>
</h3>
<p><code>aetable</code> does not include the treatment effect estimates
and their 95% CIs for datasets with more than 2 treatment arms. To
change the labels of control and interventions in the table, specify the
label for control in the argument <code>control_name</code> and specify
the intervention labels in the argument <code>intervention_names</code>.
Note that intervention_names should be specified using the same order as
the interventions specified in intervention_levels.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aetable.html">aetable</a></span><span class="op">(</span><span class="va">df3</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, control<span class="op">=</span><span class="st">"Placebo"</span>, control_name<span class="op">=</span><span class="st">"No Drug"</span>,</span>
<span>        intervention_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention 1"</span>, <span class="st">"Intervention 2"</span><span class="op">)</span>, intervention_names<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Drug A"</span>, <span class="st">"Drug B"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="aeplots_files/figure-html/unnamed-chunk-12-1.png" width="768"></p>
</div>
</div>
<div class="section level2">
<h2 id="aeseverity-function">
<code>aeseverity</code> function<a class="anchor" aria-label="anchor" href="#aeseverity-function"></a>
</h2>
<div class="section level3">
<h3 id="treatment-arms-2">2 treatment arms<a class="anchor" aria-label="anchor" href="#treatment-arms-2"></a>
</h3>
<p><code>aeseverity</code> plots a table of frequencies and proportions
of events by severity categories. We specify the number of decimal
places for proportions via the argument <code>proportions_dp</code>.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aeseverity.html">aeseverity</a></span><span class="op">(</span><span class="va">df2</span>, arm_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention"</span>, <span class="st">"Placebo"</span><span class="op">)</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, proportions_dp<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p><img src="aeplots_files/figure-html/unnamed-chunk-13-1.png" width="768"></p>
<p>We can choose to drop the number of events column by specifying
<code>n_events=FALSE</code>.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aeseverity.html">aeseverity</a></span><span class="op">(</span><span class="va">df2</span>, arm_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention"</span>, <span class="st">"Placebo"</span><span class="op">)</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, n_events<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="aeplots_files/figure-html/unnamed-chunk-14-1.png" width="768"></p>
</div>
<div class="section level3">
<h3 id="more-than-2-treatment-arms-2">More than 2 treatment arms<a class="anchor" aria-label="anchor" href="#more-than-2-treatment-arms-2"></a>
</h3>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aeseverity.html">aeseverity</a></span><span class="op">(</span><span class="va">df3</span>, arm_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention 1"</span>, <span class="st">"Intervention 2"</span>, <span class="st">"Placebo"</span><span class="op">)</span>, </span>
<span>           arm_names<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Drug A"</span>, <span class="st">"Drug B"</span>, <span class="st">"No Drug"</span><span class="op">)</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, n_events<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="aeplots_files/figure-html/unnamed-chunk-15-1.png" width="768"></p>
</div>
</div>
<div class="section level2">
<h2 id="aedot-function">
<code>aedot</code> function<a class="anchor" aria-label="anchor" href="#aedot-function"></a>
</h2>
<p><code>aedot</code> plots a dot plot proportions alongside treatment
effect estimates with accompanying 95% confidence interval to visualise
AE and harm profiles in two-arm randomised controlled trials.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aedot.html">aedot</a></span><span class="op">(</span><span class="va">df2</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, control<span class="op">=</span><span class="st">"Placebo"</span>, intervention<span class="op">=</span><span class="st">"Intervention"</span><span class="op">)</span></span></code></pre></div>
<p><img src="aeplots_files/figure-html/unnamed-chunk-16-1.png" width="768"></p>
<p>Similar to <code>aetable</code>, we can specify the model used to
estimate the treatment effect and 95% CI via the <code>model</code>
argument. The available model options are <code>unadjusted (RR)</code>,
<code>unadjusted (RD)</code>, <code>Poisson (rate)</code>,
<code>Poisson (count)</code>, <code>Negative Binomial (rate)</code>,
<code>Negative Binomial (count)</code>, <code>Binomial (logit)</code>,
<code>Binomial (log)</code> and <code>Binomial (identity)</code>.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aedot.html">aedot</a></span><span class="op">(</span><span class="va">df2</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, control<span class="op">=</span><span class="st">"Placebo"</span>, intervention<span class="op">=</span><span class="st">"Intervention"</span>, model<span class="op">=</span><span class="st">"unadjusted (RD)"</span><span class="op">)</span></span></code></pre></div>
<p><img src="aeplots_files/figure-html/unnamed-chunk-17-1.png" width="768"></p>
<p>We can change the colours of the dots on the percentage of
participants plot through the <code>dot_colours</code> argument.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aedot.html">aedot</a></span><span class="op">(</span><span class="va">df2</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, control<span class="op">=</span><span class="st">"Placebo"</span>, intervention<span class="op">=</span><span class="st">"Intervention"</span>, </span>
<span>      dot_colours<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#F4B800"</span>, <span class="st">"#97D800"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="aeplots_files/figure-html/unnamed-chunk-18-1.png" width="768"></p>
</div>
<div class="section level2">
<h2 id="aestacked-function">
<code>aestacked</code> function<a class="anchor" aria-label="anchor" href="#aestacked-function"></a>
</h2>
<div class="section level3">
<h3 id="treatment-arms-3">2 treatment arms<a class="anchor" aria-label="anchor" href="#treatment-arms-3"></a>
</h3>
<p><code>aestacked</code> plots a stacked bar chart of proportions for
each body system class by arm and maximum severity. If severity is not
ordered, it is required to specify the levels of severity in ascending
order in the argument <code>severity_levels</code>.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aestacked.html">aestacked</a></span><span class="op">(</span><span class="va">df2</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, arm_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention"</span>,<span class="st">"Placebo"</span><span class="op">)</span>, </span>
<span>          severity_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Mild"</span>, <span class="st">"Moderate"</span>, <span class="st">"Severe"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="aeplots_files/figure-html/unnamed-chunk-19-1.png" width="768"></p>
<p>We can change the colour for each severity by specifying a vector of
colour codes corresponding to each severity level in the
<code>severity_colours</code> argument.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aestacked.html">aestacked</a></span><span class="op">(</span><span class="va">df2</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, arm_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention"</span>,<span class="st">"Placebo"</span><span class="op">)</span>, </span>
<span>          severity_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Mild"</span>, <span class="st">"Moderate"</span>, <span class="st">"Severe"</span><span class="op">)</span>, severity_colours<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#D0EE11"</span>, <span class="st">"#48B5C4"</span>, <span class="st">"#115F9A"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="aeplots_files/figure-html/unnamed-chunk-20-1.png" width="768"></p>
</div>
<div class="section level3">
<h3 id="more-than-2-treatment-arms-3">More than 2 treatment arms<a class="anchor" aria-label="anchor" href="#more-than-2-treatment-arms-3"></a>
</h3>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aestacked.html">aestacked</a></span><span class="op">(</span><span class="va">df3</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, arm_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention 1"</span>,<span class="st">"Intervention 2"</span>, <span class="st">"Placebo"</span><span class="op">)</span>,</span>
<span>          arm_names<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Drug A"</span>,<span class="st">"Drug B"</span>, <span class="st">"No Drug"</span><span class="op">)</span>, severity_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Mild"</span>, <span class="st">"Moderate"</span>, <span class="st">"Severe"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="aeplots_files/figure-html/unnamed-chunk-21-1.png" width="768"></p>
</div>
</div>
<div class="section level2">
<h2 id="aebar-function">
<code>aebar</code> function<a class="anchor" aria-label="anchor" href="#aebar-function"></a>
</h2>
<div class="section level3">
<h3 id="treatment-arms-4">2 treatment arms<a class="anchor" aria-label="anchor" href="#treatment-arms-4"></a>
</h3>
<p><code>aebar</code> plots a bar chart for number of events reported
per participant.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aebar.html">aebar</a></span><span class="op">(</span><span class="va">df2</span>, arm_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention"</span>,<span class="st">"Placebo"</span><span class="op">)</span>, facets<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="aeplots_files/figure-html/unnamed-chunk-22-1.png" width="768"></p>
<p>We can change the colour representing each treatment arm by
specifying a vector of colour codes in the <code>arm_colours</code>
argument according to the order of arm levels specified in the
arm_levels argument.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aebar.html">aebar</a></span><span class="op">(</span><span class="va">df2</span>, arm_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention"</span>,<span class="st">"Placebo"</span><span class="op">)</span>, arm_colours<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#FFB55A"</span>, <span class="st">"#B2E061"</span><span class="op">)</span>, facets<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="aeplots_files/figure-html/unnamed-chunk-23-1.png" width="768"></p>
</div>
<div class="section level3">
<h3 id="more-than-2-treatment-arms-4">More than 2 treatment arms<a class="anchor" aria-label="anchor" href="#more-than-2-treatment-arms-4"></a>
</h3>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aebar.html">aebar</a></span><span class="op">(</span><span class="va">df3</span>, arm_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention 1"</span>,<span class="st">"Intervention 2"</span>, <span class="st">"Placebo"</span><span class="op">)</span>, arm_names<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Drug A"</span>,<span class="st">"Drug B"</span>, <span class="st">"No Drug"</span><span class="op">)</span>,</span>
<span>      facets<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="aeplots_files/figure-html/unnamed-chunk-24-1.png" width="768"></p>
<p>We can plot a bar chart for each treatment arm in separate facets by
specifying <code>facets=TRUE</code>.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aebar.html">aebar</a></span><span class="op">(</span><span class="va">df3</span>, arm_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention 1"</span>,<span class="st">"Intervention 2"</span>, <span class="st">"Placebo"</span><span class="op">)</span>, arm_names<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Drug A"</span>,<span class="st">"Drug B"</span>, <span class="st">"No Drug"</span><span class="op">)</span>,</span>
<span>      facets<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="aeplots_files/figure-html/unnamed-chunk-25-1.png" width="768"></p>
</div>
</div>
<div class="section level2">
<h2 id="saving-tables-and-plots">Saving tables and plots<a class="anchor" aria-label="anchor" href="#saving-tables-and-plots"></a>
</h2>
<div class="section level3">
<h3 id="docx">Docx<a class="anchor" aria-label="anchor" href="#docx"></a>
</h3>
<p>We can save tables as docx by specifying the filepath in the
<code>save_docx_path</code> argument.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aetable.html">aetable</a></span><span class="op">(</span><span class="va">df2</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, control<span class="op">=</span><span class="st">"Placebo"</span>, intervention_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention"</span><span class="op">)</span>,</span>
<span>        treatment_effect_estimate<span class="op">=</span><span class="cn">TRUE</span>, variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"variable1"</span>, <span class="st">"variable2"</span><span class="op">)</span>, save_docx_path<span class="op">=</span><span class="st">"table.docx"</span><span class="op">)</span></span></code></pre></div>
<p><img src="aeplots_files/figure-html/unnamed-chunk-26-1.png" width="768"></p>
</div>
<div class="section level3">
<h3 id="image">Image<a class="anchor" aria-label="anchor" href="#image"></a>
</h3>
<p>We can save tables and plots as images by specifying the filepath in
the <code>save_image_path</code> argument.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aebar.html">aebar</a></span><span class="op">(</span><span class="va">df3</span>, arm_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention 1"</span>,<span class="st">"Intervention 2"</span>, <span class="st">"Placebo"</span><span class="op">)</span>, arm_names<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Drug A"</span>,<span class="st">"Drug B"</span>, <span class="st">"No Drug"</span><span class="op">)</span>,</span>
<span>      facets<span class="op">=</span><span class="cn">TRUE</span>, save_image_path<span class="op">=</span><span class="st">"image.png"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Saving 8 x 6 in image</span></span></code></pre></div>
<p><img src="aeplots_files/figure-html/unnamed-chunk-27-1.png" width="768"></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Xiao Xuan Tan.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
