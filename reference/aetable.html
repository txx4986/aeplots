<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="aetable is used to plot a table of AE summary by body system class and arm using the following summary statistics:
Total number of participants at risk per arm
Frequency (number of participants with at least one event for each body system class)
Proportions (number of participants with at least one event for each body system class relative to number of participants at risk)
Number of adverse events per participant: presented as counts, mean (SD)
Total number of events and incidence rates (number of events relative to total time in follow-up)
Treatment effect estimate and 95% confidence intervals

"><title>Table of AE summary by body system class — aetable • aeplots</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Table of AE summary by body system class — aetable"><meta property="og:description" content="aetable is used to plot a table of AE summary by body system class and arm using the following summary statistics:
Total number of participants at risk per arm
Frequency (number of participants with at least one event for each body system class)
Proportions (number of participants with at least one event for each body system class relative to number of participants at risk)
Number of adverse events per participant: presented as counts, mean (SD)
Total number of events and incidence rates (number of events relative to total time in follow-up)
Treatment effect estimate and 95% confidence intervals

"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">aeplots</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/aeplots.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Table of AE summary by body system class</h1>
      
      <div class="d-none name"><code>aetable.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>aetable</code> is used to plot a table of AE summary by body system class and arm using the following summary statistics:</p><ul><li><p><strong>Total number of participants at risk per arm</strong></p></li>
<li><p><strong>Frequency</strong> (number of participants with at least one event for each body system class)</p></li>
<li><p><strong>Proportions</strong> (number of participants with at least one event for each body system class relative to number of participants at risk)</p></li>
<li><p><strong>Number of adverse events per participant</strong>: presented as <strong>counts</strong>, <strong>mean (SD)</strong></p></li>
<li><p><strong>Total number of events</strong> and <strong>incidence rates</strong> (<strong>number of events</strong> relative to <strong>total time in follow-up</strong>)</p></li>
<li><p><strong>Treatment effect estimate</strong> and <strong>95% confidence intervals</strong></p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">aetable</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">control</span>,</span>
<span>  <span class="va">intervention_levels</span>,</span>
<span>  body_system_class <span class="op">=</span> <span class="st">"body_system_class"</span>,</span>
<span>  id <span class="op">=</span> <span class="st">"id"</span>,</span>
<span>  arm <span class="op">=</span> <span class="st">"arm"</span>,</span>
<span>  date_rand <span class="op">=</span> <span class="st">"date_rand"</span>,</span>
<span>  last_visit <span class="op">=</span> <span class="st">"last_visit"</span>,</span>
<span>  control_name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  intervention_names <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  treatment_effect_estimate <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  model <span class="op">=</span> <span class="st">"Poisson (rate)"</span>,</span>
<span>  variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  mean <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  drop_bodsys <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  proportions_dp <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  IR_dp <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  mean_dp <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  SD_dp <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  estimate_sf <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  CI_sf <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  save_image_path <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  save_docx_path <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>data</dt>
<dd><p>data frame with adverse_event, body_system_class, id, arm, date_rand and last_visit columns (optional: variables to be included in model)</p></dd>


<dt>control</dt>
<dd><p>factor level of control arm</p></dd>


<dt>intervention_levels</dt>
<dd><p>vector of factor levels for interventions</p></dd>


<dt>body_system_class</dt>
<dd><p>name of body_system_class column</p></dd>


<dt>id</dt>
<dd><p>name of id column</p></dd>


<dt>arm</dt>
<dd><p>name of arm column</p></dd>


<dt>date_rand</dt>
<dd><p>name of date_rand column</p></dd>


<dt>last_visit</dt>
<dd><p>name of last_visit column</p></dd>


<dt>control_name</dt>
<dd><p>name of control arm</p></dd>


<dt>intervention_names</dt>
<dd><p>vector of names for interventions</p></dd>


<dt>treatment_effect_estimate</dt>
<dd><p>a logical value whether to include treatment effect estimate and 95% CI column in summary table (only for 2 arms)</p></dd>


<dt>model</dt>
<dd><p>model used for computation of treatment effect estimate and 95% CI</p></dd>


<dt>variables</dt>
<dd><p>vector of variable names to be included in the model for computation of treatment effect estimate (excluding arm)</p></dd>


<dt>mean</dt>
<dd><p>a logical value whether to include mean and SD column in summary table</p></dd>


<dt>drop_bodsys</dt>
<dd><p>a logical value whether to drop body system class with no observations from summary table</p></dd>


<dt>proportions_dp</dt>
<dd><p>number of decimal places for proportions</p></dd>


<dt>IR_dp</dt>
<dd><p>number of decimal places for incidence rate</p></dd>


<dt>mean_dp</dt>
<dd><p>number of decimal places for mean number of AEs per participant</p></dd>


<dt>SD_dp</dt>
<dd><p>number of decimal places for standard deviation of number of AEs per participant</p></dd>


<dt>estimate_sf</dt>
<dd><p>number of significant figures for treatment effect estimate</p></dd>


<dt>CI_sf</dt>
<dd><p>number of significant figures for 95% CI</p></dd>


<dt>save_image_path</dt>
<dd><p>file path to save table as image</p></dd>


<dt>save_docx_path</dt>
<dd><p>file path to save table as docx</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>flextable of AE summary by body system class and arm</p>
    </div>
    <div class="section level2">
    <h2 id="treatment-effect-estimate">Treatment Effect Estimate<a class="anchor" aria-label="anchor" href="#treatment-effect-estimate"></a></h2>
    

<p>The treatment effect and its 95% confidence interval are estimated via the following models below:</p><ul><li><p><strong>Poisson (rate)</strong>: fitting a generalised linear model with Poisson family and log link with length of follow up time as offset</p></li>
<li><p><strong>Poisson (count)</strong>: fitting a generalised linear model with Poisson family and log link with count as response</p></li>
<li><p><strong>Negative Binomial (rate)</strong>: fitting a Negative Binomial model with length of follow up time as offset</p></li>
<li><p><strong>Negative Binomial (count)</strong>: fitting a Negative Binomial model with count as response</p></li>
<li><p><strong>Binomial (logit)</strong>: fitting a generalised linear model with Binomial family and logit link</p></li>
<li><p><strong>Binomial (log)</strong>: fitting a generalised linear model with Binomial family and log link</p></li>
<li><p><strong>Binomial (identity)</strong>: fitting a generalised linear model with Binomial family and identity link</p></li>
</ul><p>The default model is the <code>Poisson (rate)</code> model.</p>
<p>For Poisson and Negative Binomial models, the treatment effect estimate is the <strong>Incidence Rate Ratio (IRR)</strong>.
For Binomial (logit) model, the treatment effect estimate is the <strong>Odds Ratio (OR)</strong>.
For Binomial (log) model, the treatment effect estimate is the <strong>Risk Ratio (RR)</strong>.
For Binomial (identity) model, the treatment effect estimate is the <strong>Risk Difference (RD)</strong>.</p>
<p>The reference level for the arm variable used in the model is the control arm.</p>
<p>Additional covariates besides arm can be added into the model via the argument <code>variables</code>.
Note that interaction terms cannot be added to the model.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">df2</span><span class="op">$</span><span class="va">aebodsys</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">df2</span><span class="op">$</span><span class="va">aebodsys</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">aetable</span><span class="op">(</span><span class="va">df2</span>, body_system_class<span class="op">=</span><span class="st">"aebodsys"</span>, control<span class="op">=</span><span class="st">"Placebo"</span>, intervention_levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intervention"</span><span class="op">)</span>, treatment_effect_estimate<span class="op">=</span><span class="cn">TRUE</span>, variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"variable1"</span>, <span class="st">"variable2"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="aetable-1.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Xiao Xuan Tan.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

